<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Himanshu Voice AI</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#f0f2f5;
}

.header{
  background:#075e54;
  color:white;
  padding:15px;
  text-align:center;
  font-size:18px;
}

.chat{
  height:70vh;
  overflow-y:auto;
  padding:10px;
}

.msg{
  max-width:75%;
  padding:10px;
  margin:8px;
  border-radius:10px;
}

.user{
  background:#dcf8c6;
  margin-left:auto;
}

.bot{
  background:#ffffff;
  margin-right:auto;
}

.input-box{
  display:flex;
  position:fixed;
  bottom:0;
  width:100%;
  background:#fff;
  padding:10px;
}

input{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:1px solid #ccc;
}

button{
  margin-left:6px;
  padding:10px;
  border:none;
  border-radius:50%;
  background:#075e54;
  color:white;
  font-size:16px;
}
</style>
</head>

<body>

<div class="header">ü§ñ Himanshu Voice AI</div>

<div class="chat" id="chat">
  <div class="msg bot">‡§®‡§Æ‡§∏‡•ç‡§§‡•á üëã ‡§Æ‡•à‡§Ç ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•Ç‡§Å</div>
</div>

<div class="input-box">
  <input id="userInput" placeholder="Type or Speak..." />
  <button onclick="startVoice()">üé§</button>
  <button onclick="send()">‚û§</button>
</div>

<script>
let memory = { name:"", study:"" };

function speak(text){
  let speech = new SpeechSynthesisUtterance(text);
  speech.lang = /[a-zA-Z]/.test(text) ? "en-US" : "hi-IN";
  window.speechSynthesis.speak(speech);
}

function startVoice(){
  let rec = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  rec.lang = "hi-IN";
  rec.start();
  rec.onresult = e => {
    document.getElementById("userInput").value = e.results[0][0].transcript;
    send();
  };
}

function send(){
  let input = document.getElementById("userInput");
  let text = input.value.trim();
  if(text==="") return;

  let chat = document.getElementById("chat");
  chat.innerHTML += `<div class="msg user">${text}</div>`;
  input.value = "";

  let reply = "‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù ‡§®‡§π‡•Ä‡§Ç ‡§™‡§æ‡§Ø‡§æ ü§î";

  let t = text.toLowerCase();

  if(t.includes("my name is")){
    memory.name = text.replace(/my name is/i,"").trim();
    reply = "‡§†‡•Ä‡§ï ‡§π‡•à üòä ‡§Æ‡•à‡§Ç ‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡•Ç‡§Å‡§ó‡§æ ‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ " + memory.name;
  }
  else if(t.includes("i study")){
    memory.study = text.replace(/i study/i,"").trim();
    reply = "‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ üëç ‡§Ü‡§™ " + memory.study + " ‡§™‡§¢‡§º‡§§‡•á ‡§π‡•à‡§Ç";
  }
  else if(t.includes("what is my name")){
    reply = memory.name ? "‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ " + memory.name + " ‡§π‡•à üòä" : "‡§Ü‡§™‡§®‡•á ‡§®‡§æ‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§¨‡§§‡§æ‡§Ø‡§æ ‚ùå";
  }
  else if(t.includes("hello") || t.includes("hi")){
    reply = "‡§®‡§Æ‡§∏‡•ç‡§§‡•á üëã ‡§ï‡•à‡§∏‡•á ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡•Ç‡§Å?";
  }
  else if(t.includes("quote")){
    getQuote();
    return;
  }

  setTimeout(()=>{
    chat.innerHTML += `<div class="msg bot">${reply}</div>`;
    speak(reply);
    chat.scrollTop = chat.scrollHeight;
  },500);
}

async function getQuote(){
  let chat = document.getElementById("chat");
  let res = await fetch("https://api.quotable.io/random");
  let data = await res.json();
  let quote = data.content;
  chat.innerHTML += `<div class="msg bot">"${quote}"</div>`;
  speak(quote);
}
</script>

</body>
</html>
