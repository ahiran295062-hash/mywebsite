<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Himanshu Internet AI</title>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#0f172a;
  color:white;
}
.header{
  background:#020617;
  padding:15px;
  text-align:center;
  font-size:20px;
  font-weight:bold;
}
#loginBox{
  padding:15px;
  text-align:center;
}
#loginBox input{
  padding:10px;
  width:70%;
  border-radius:8px;
  border:none;
}
#loginBox button{
  padding:10px 15px;
  border:none;
  border-radius:8px;
  background:#22c55e;
  color:black;
  font-weight:bold;
  margin-left:5px;
}
.chat{
  padding:10px;
  height:60vh;
  overflow-y:auto;
}
.msg{
  margin:8px 0;
  padding:10px;
  border-radius:10px;
  max-width:80%;
}
.user{
  background:#2563eb;
  margin-left:auto;
}
.bot{
  background:#334155;
}
.input-box{
  display:flex;
  padding:10px;
  background:#020617;
}
.input-box input{
  flex:1;
  padding:10px;
  border-radius:10px;
  border:none;
}
.input-box button{
  margin-left:5px;
  padding:10px;
  border:none;
  border-radius:10px;
  font-size:18px;
}
</style>
</head>

<body>

<div class="header">üåê Himanshu Internet AI</div>

<div id="loginBox">
  <input id="username" placeholder="‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç">
  <button onclick="login()">Login</button>
</div>

<div class="chat" id="chat">
  <div class="msg bot">‡§®‡§Æ‡§∏‡•ç‡§§‡•á üëã ‡§Æ‡•à‡§Ç Internet ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡§æ AI ‡§π‡•Ç‡§Å</div>
</div>

<div class="input-box">
  <input id="userInput" placeholder="‡§ï‡•Å‡§õ ‡§≠‡•Ä ‡§™‡•Ç‡§õ‡•ã...">
  <button onclick="send()">‚û§</button>
</div>

<script>
// ===== MEMORY =====
let memory = {
  name: localStorage.getItem("name") || ""
};

// ===== SPEAK =====
function speak(text){
  let u = new SpeechSynthesisUtterance(text);
  u.lang = "hi-IN";
  speechSynthesis.speak(u);
}

// ===== LOGIN =====
function login(){
  let name = document.getElementById("username").value.trim();
  if(name==="") return;
  localStorage.setItem("name", name);
  memory.name = name;
  document.getElementById("loginBox").style.display="none";
  botMsg("‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à " + name + " üòä");
}

// ===== AUTO LOGIN =====
window.onload = function(){
  if(memory.name){
    document.getElementById("loginBox").style.display="none";
    botMsg("‡§´‡§ø‡§∞ ‡§∏‡•á ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à " + memory.name + " üëã");
  }
}

// ===== UI MESSAGES =====
function userMsg(text){
  let chat = document.getElementById("chat");
  chat.innerHTML += `<div class="msg user">${text}</div>`;
  chat.scrollTop = chat.scrollHeight;
}
function botMsg(text){
  let chat = document.getElementById("chat");
  chat.innerHTML += `<div class="msg bot">${text}</div>`;
  chat.scrollTop = chat.scrollHeight;
  speak(text);
}

// ===== SEND =====
async function send(){
  let input = document.getElementById("userInput");
  let text = input.value.trim();
  if(text==="") return;

  userMsg(text);
  input.value="";
  botMsg("ü§ñ ‡§∏‡•ã‡§ö ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...");

  let reply = await askInternetAI(text);

  // last "thinking" message ‡§π‡§ü‡§æ‡§ì
  let chat = document.getElementById("chat");
  chat.removeChild(chat.lastChild);

  botMsg(reply);


// ===== INTERNET AI (GROQ) =====
async function askInternetAI(question){
  const API_KEY = "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"

  try{
    let response = await fetch("https://api.groq.com/openai/v1/chat/completions",{
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization":"Bearer " + API_KEY
      },
      body:JSON.stringify({
        model:"llama3-8b-8192",
        messages:[
          {role:"system", content:"You are a helpful AI assistant. Answer in simple Hindi or English."},
          {role:"user", content:question}
        ]
      })
    });

    let data = await response.json();
    return data.choices[0].message.content;
  }
  catch(e){
    return "‚ùå Internet AI ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§Ü‡§à";
  }
}
</script>

</body>
</html>
